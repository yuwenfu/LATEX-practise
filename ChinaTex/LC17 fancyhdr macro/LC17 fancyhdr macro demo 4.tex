\documentclass[]{ctexbook}

\usepackage{geometry}
\geometry{left=1in, right=1in, top=1in, bottom=1in}

\usepackage{fancyhdr}
\pagestyle{fancy}
\fancyhf{}
\fancyhead[LE,RO]{\thepage} 
\fancyhead[RE]{\leftmark} 
\fancyhead[LO]{\rightmark} 
\fancypagestyle{plain}{
	\fancyhf{}
	\renewcommand{\headrulewidth}{0pt}
}  %设置章的页眉页脚没有横线

\renewcommand\chaptermark[1]{%
	\markboth{\CTEXthechapter~: #1}{}}
\renewcommand\sectionmark[1]{\markright{\thesection: #1}}

%N of M 样式的页码
\usepackage{lastpage}
\rfoot{\thepage\ of \pageref{LastPage}}


\title{fancyhdr宏包套件使用介绍}
\author{付煜文}
\date{\today}

\usepackage{lipsum}

\begin{document}
	\maketitle
	
	\newpage
	\chapter{这是一个章标题}
	\section{这是一个节标题}
	\lipsum[1]
	\subsection{这是一个小节标题}
	\lipsum[2]
	\section{这是一个节标题}
	\lipsum[1]
	\section{这是一个节标题}
	\lipsum[3]
	\section{这是一个节标题}
	\lipsum[3]
	\section{这是一个节标题}
	\lipsum[3]
	\subsection{这是一个小节标题}
	\lipsum[2]
	\newpage
	\chapter{这是一个章标题}
	\section{这是一个节标题}
	\lipsum[3]
	\subsection{这是一个小节标题}
	\lipsum[4]
	\section{这是一个节标题}
	\lipsum[1]
	\subsection{这是一个小节标题}
	\lipsum[2]
	
\end{document}